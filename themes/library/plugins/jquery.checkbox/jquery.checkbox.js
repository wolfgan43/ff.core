(function(e){var t=function(e){if(!e)var e=window.event;e.cancelBubble=true;if(e.stopPropagation)e.stopPropagation()};e.fn.checkbox=function(n){try{document.execCommand("BackgroundImageCache",false,true)}catch(r){}var i={cls:"jquery-checkbox",empty:"empty.png"};i=e.extend(i,n||{});var s=function(t){var n=t.checked;var r=t.disabled;var i=e(t);if(t.stateInterval)clearInterval(t.stateInterval);t.stateInterval=setInterval(function(){if(t.disabled!=r)i.trigger((r=!!t.disabled)?"disable":"enable");if(t.checked!=n)i.trigger((n=!!t.checked)?"check":"uncheck")},10);return i};return this.each(function(){var n=this;var r=s(n);if(n.wrapper)n.wrapper.remove();n.wrapper=e('<span class="'+i.cls+'"><span class="mark"><img src="'+i.empty+'" /></span></span>');n.wrapperInner=n.wrapper.children("span:eq(0)");n.wrapper.hover(function(e){n.wrapperInner.addClass(i.cls+"-hover");t(e)},function(e){n.wrapperInner.removeClass(i.cls+"-hover");t(e)});r.css({position:"absolute",zIndex:-1,visibility:"hidden"}).after(n.wrapper);var o=false;if(r.attr("id")){o=e("label[for="+r.attr("id").escapeRegExp()+"]");if(!o.length)o=false}if(!o){o=r.closest?r.closest("label"):r.parents("label:eq(0)");if(!o.length)o=false}if(o){o.hover(function(e){n.wrapper.trigger("mouseover",[e])},function(e){n.wrapper.trigger("mouseout",[e])});o.click(function(e){r.trigger("click",[e]);t(e);return false})}n.wrapper.click(function(e){r.trigger("click",[e]);t(e);return false});r.click(function(e){t(e)});r.bind("disable",function(){n.wrapperInner.addClass(i.cls+"-disabled")}).bind("enable",function(){n.wrapperInner.removeClass(i.cls+"-disabled")});r.bind("check",function(){n.wrapper.addClass(i.cls+"-checked")}).bind("uncheck",function(){n.wrapper.removeClass(i.cls+"-checked")});e("img",n.wrapper).bind("dragstart",function(){return false}).bind("mousedown",function(){return false});if(window.getSelection)n.wrapper.css("MozUserSelect","none");if(n.checked)n.wrapper.addClass(i.cls+"-checked");if(n.disabled)n.wrapperInner.addClass(i.cls+"-disabled")})}})(jQuery)